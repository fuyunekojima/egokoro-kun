<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç®„Ç¥„Ç≥„É≠„Åè„Çì - „ÅäÁµµÊèè„Åç„ÇØ„Ç§„Ç∫„Ç≤„Éº„É†</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Home Screen -->
    <div id="home-screen" class="screen active">
        <div class="container">
            <h1>üé® „Ç®„Ç¥„Ç≥„É≠„Åè„Çì</h1>
            <p>„Åø„Çì„Å™„Åß„ÅäÁµµÊèè„Åç„ÇØ„Ç§„Ç∫„ÇíÊ•Ω„Åó„ÇÇ„ÅÜÔºÅ</p>
            <div class="button-group">
                <button id="create-session-btn" class="btn btn-primary">„Çª„ÉÉ„Ç∑„Éß„É≥„Çí‰ΩúÊàê</button>
                <button id="join-session-btn" class="btn btn-secondary">„Çª„ÉÉ„Ç∑„Éß„É≥„Å´ÂèÇÂä†</button>
                <button id="debug-sessions-btn" class="btn btn-outline" style="margin-top: 10px;">„Éá„Éê„ÉÉ„Ç∞: „Çª„ÉÉ„Ç∑„Éß„É≥‰∏ÄË¶ß</button>
            </div>
            <div id="debug-sessions" style="display: none; margin-top: 20px; padding: 15px; background: #f5f5f5; border-radius: 8px;">
                <h3>„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥</h3>
                <div id="sessions-list"></div>
                <button id="refresh-sessions-btn" class="btn btn-small">Êõ¥Êñ∞</button>
            </div>
        </div>
    </div>

    <!-- Create Session Screen -->
    <div id="create-session-screen" class="screen">
        <div class="container">
            <h2>„Çª„ÉÉ„Ç∑„Éß„É≥‰ΩúÊàê</h2>
            <form id="create-session-form" class="form">
                <div class="form-group">
                    <label for="host-name">„ÅÇ„Å™„Åü„ÅÆÂêçÂâç</label>
                    <input type="text" id="host-name" name="host-name" required maxlength="20">
                </div>
                <div class="form-group">
                    <label for="session-name">„Çª„ÉÉ„Ç∑„Éß„É≥Âêç</label>
                    <input type="text" id="session-name" name="session-name" required maxlength="30">
                </div>
                <div class="form-group">
                    <label for="password">„Éë„Çπ„ÉØ„Éº„ÉâÔºà‰ªªÊÑèÔºâ</label>
                    <input type="password" id="password" name="password" maxlength="20">
                </div>
                <div class="button-group">
                    <button type="submit" class="btn btn-primary">‰ΩúÊàê</button>
                    <button type="button" class="btn btn-secondary" onclick="history.back()">Êàª„Çã</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Join Session Screen -->
    <div id="join-session-screen" class="screen">
        <div class="container">
            <h2>„Çª„ÉÉ„Ç∑„Éß„É≥ÂèÇÂä†</h2>
            <form id="join-session-form" class="form">
                <div class="form-group">
                    <label for="player-name">„ÅÇ„Å™„Åü„ÅÆÂêçÂâç</label>
                    <input type="text" id="player-name" name="player-name" required maxlength="20">
                </div>
                <div class="form-group">
                    <label for="session-id">„Çª„ÉÉ„Ç∑„Éß„É≥ID</label>
                    <input type="text" id="session-id" name="session-id" required>
                </div>
                <div class="form-group">
                    <label for="join-password">„Éë„Çπ„ÉØ„Éº„ÉâÔºàÂøÖË¶Å„Å™Â†¥ÂêàÔºâ</label>
                    <input type="password" id="join-password" name="password" maxlength="20">
                </div>
                <div class="button-group">
                    <button type="submit" class="btn btn-primary">ÂèÇÂä†</button>
                    <button type="button" class="btn btn-secondary" onclick="history.back()">Êàª„Çã</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Game Lobby Screen -->
    <div id="game-lobby-screen" class="screen">
        <div class="game-layout">
            <!-- Header -->
            <header class="game-header">
                <div class="session-info">
                    <h2 id="session-name-display"></h2>
                    <p>„Çª„ÉÉ„Ç∑„Éß„É≥ID: <span id="session-id-display"></span></p>
                </div>
                <div class="game-controls">
                    <button id="ready-btn" class="btn btn-primary">Ê∫ñÂÇôÂÆå‰∫Ü</button>
                    <button id="start-game-btn" class="btn btn-success" style="display: none;">„Ç≤„Éº„É†ÈñãÂßã</button>
                    <button id="leave-session-btn" class="btn btn-danger">ÈÄÄÂá∫</button>
                </div>
            </header>

            <!-- Main Game Area -->
            <main class="game-main">
                <!-- Left Sidebar -->
                <aside class="sidebar left-sidebar">
                    <div class="players-section">
                        <h3>„Éó„É¨„Ç§„É§„Éº</h3>
                        <div id="players-list" class="players-list"></div>
                    </div>

                    <!-- Settings (Host only) -->
                    <div id="settings-container" class="settings-section" style="display: none;">
                        <h3>Ë®≠ÂÆö</h3>
                        <form id="settings-form" class="settings-form">
                            <div class="form-group">
                                <label for="max-rounds">„É©„Ç¶„É≥„ÉâÊï∞</label>
                                <input type="number" id="max-rounds" name="max-rounds" min="1" max="10" value="2">
                            </div>
                            <div class="form-group">
                                <label for="correct-points">Ê≠£Ëß£ËÄÖ„Éù„Ç§„É≥„Éà</label>
                                <input type="number" id="correct-points" name="correct-points" min="1" max="100" value="10">
                            </div>
                            <div class="form-group">
                                <label for="drawer-points">Êèè„ÅçÊâã„Éù„Ç§„É≥„Éà</label>
                                <input type="number" id="drawer-points" name="drawer-points" min="1" max="100" value="5">
                            </div>
                            <div class="form-group">
                                <label>„ÉÜ„Éº„ÉûÈÅ∏Êäû</label>
                                <div id="themes-container" class="themes-container"></div>
                            </div>
                            <button type="submit" class="btn btn-small">Ë®≠ÂÆöÊõ¥Êñ∞</button>
                        </form>
                    </div>
                </aside>

                <!-- Canvas Area -->
                <div class="canvas-area">
                    <div id="current-turn-display" class="turn-display">
                        <div>„Ç≤„Éº„É†ÂæÖÊ©ü‰∏≠</div>
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="drawing-canvas" class="drawing-canvas"></canvas>
                        <div id="floating-messages" class="floating-messages"></div>
                    </div>

                    <!-- Drawing Tools -->
                    <div class="drawing-tools">
                        <div class="tool-group">
                            <label>Ëâ≤</label>
                            <div class="color-palette">
                                <button class="color-btn active" data-color="#000000" style="background-color: #000000;"></button>
                                <button class="color-btn" data-color="#ff0000" style="background-color: #ff0000;"></button>
                                <button class="color-btn" data-color="#00ff00" style="background-color: #00ff00;"></button>
                                <button class="color-btn" data-color="#0000ff" style="background-color: #0000ff;"></button>
                                <button class="color-btn" data-color="#ffff00" style="background-color: #ffff00;"></button>
                                <button class="color-btn" data-color="#ff00ff" style="background-color: #ff00ff;"></button>
                                <button class="color-btn" data-color="#00ffff" style="background-color: #00ffff;"></button>
                                <button class="color-btn" data-color="#ffa500" style="background-color: #ffa500;"></button>
                                <button class="color-btn" data-color="#800080" style="background-color: #800080;"></button>
                                <button class="color-btn" data-color="#8b4513" style="background-color: #8b4513;"></button>
                            </div>
                        </div>
                        
                        <div class="tool-group">
                            <label for="line-width">Â§™„Åï: <span id="line-width-value">5</span></label>
                            <input type="range" id="line-width" min="1" max="20" value="5">
                        </div>
                        
                        <div class="tool-group">
                            <label for="opacity">ÈÄèÊòéÂ∫¶: <span id="opacity-value">1.0</span></label>
                            <input type="range" id="opacity" min="0.1" max="1" step="0.1" value="1">
                        </div>
                        
                        <button id="clear-canvas-btn" class="btn btn-warning">ÂÖ®Ê∂à„Åó</button>
                    </div>
                </div>

                <!-- Right Sidebar -->
                <aside class="sidebar right-sidebar">
                    <div id="chat-container" class="chat-container">
                        <h3>„ÉÅ„É£„ÉÉ„Éà</h3>
                        <div id="chat-messages" class="chat-messages"></div>
                        <div class="chat-input-container">
                            <input type="text" id="chat-input" class="chat-input" placeholder="„Å≤„Çâ„Åå„Å™„ÅßÁ≠î„Åà„ÇíÂÖ•Âäõ...">
                            <button class="send-button btn btn-small">ÈÄÅ‰ø°</button>
                        </div>
                    </div>
                </aside>
            </main>
        </div>

        <!-- Game Results Modal -->
        <div id="game-results-container" class="modal" style="display: none;">
            <div class="modal-content">
                <!-- Results will be inserted here -->
            </div>
        </div>
    </div>

    <script type="module" src="main.ts"></script>
</body>
</html>